<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:include="header"></head>

<body>
<div sec:authorize="isAuthenticated()">
	<meta http-equiv="refresh" content="0;url=/home" />
</div>
<div th:replace="navbar"></div>
<div class="container">
	<div class="row">
		<div class="col-sm-6 col-md-4 col-md-offset-4">
			<div class="account-wall">
				<div id="my-tab-content" class="tab-content">
					<div class="logo-container" style="margin: 0 auto;width: 200px">
						<img src="/images/kolayspor.png" style="width: 200px;height: 200px"/>
					</div>
					<div class="tab-pane active" id="login" role="form">
						<form class="form-signin" th:action="@{/login}" method="post" th:object="${user}">
							<input type="text" class="form-control" placeholder="email" th:field="*{email}" required autofocus>
							<label style="color: red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Username Error</label>
							<input type="password" class="form-control" placeholder="Password" th:field="*{password}" required>
							<label style="color: red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</label>
							<input type="submit" class="btn btn-lg btn-default btn-block" value="Sign in" />
						</form>
						<div align="center" th:if="${param.error}">
							<p style="font-size: 16px; color: #FF1C19;">Email or Password invalid, Please Retry</p>
						</div>
						<div id="tabs" data-tabs="tabs">
							<p class="text-center"><a href="#register" data-toggle="tab">Need an Account?</a></p>
						</div>
					</div>
					<div class="tab-pane" id="register">
						<form class="form-signin" th:action="@{/registration}" th:object="${user}" method="post" role="form">
							<input type="text" class="form-control" placeholder="Full Name" th:field="*{fullname}" required autofocus>
							<label style="color: red" th:if="${#fields.hasErrors('fullname')}" th:errors="*{fullname}">Username Error</label>
							<input type="text" class="form-control" placeholder="email" th:field="*{email}" required autofocus>
							<label style="color: red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Username Error</label>
							<input type="password" class="form-control" placeholder="Password ..." name="password" required>
							<label style="color: red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</label>
							<select th:field="*{branchName}" name="cars" class="form-control">
								<span th:each="brn : ${branches}">
								<option th:text="${brn.branchName}" th:value="${brn.branchName}"></option>
								</span>
							</select>
							<br>
							<input type="submit" class="btn btn-lg btn-default btn-block" value="Sign Up" />
						</form>
						<div id="tabs2" data-tabs="tabs">
							<p class="text-center"><a href="#login" data-toggle="tab">Have an Account?</a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>
</html>